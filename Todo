2006-10-14  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Add support for all other CPAN::Config variables. Maybe by turning
	them all into methods in CPAN::Distribution, maybe via autoload, maybe
	with clever use of local(). Currently only "make",
	"make_install_make_command", and "build_requires_install_policy" are
	supported. The first two for PDL on freebsd, the last one was just for
	quick testing of the mechanism.

	* Randy's CPAN-Search-Lite lives at
	http://sourceforge.net/cvs/?group_id=101571 and on my local disk at
	/home/src/perl/cpan-search-lite/CPAN-Search-Lite. As it needs DBI, it
	cannot use bleadperl. Latest maint-perl is 28854.

	AI::Categorizer needed by t/basic.t, not listed as prereq. Needs in turn
	(unlisted?) Algorithm::NaiveBayes:-(

	Warning: prerequisite Config::IniFiles 0 not found.
	Warning: prerequisite DBD::SQLite 0 not found.
	Warning: prerequisite File::Listing 0 not found.

	DBD::SQLite did not compile on the first try. But it did on the second.
	I think in between I installed libsqlite0-dev.

	No again I have no Lingua::StopWords:=(

	No SOAP::Lite

	No Perl::Tidy

	No HTML::TextToHTML

	No Pod::Xhtml

	No XML::SAX::ExpatXS

	Finished installing prereqs, all tests except Mysql pass.

	make install is OK.

	First invocation of the indexer with

	/home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Cannot retrieve /home/src/perl/cpan-search-lite/indices/ls-lR.gz from file:///home/ftp/pub/PAUSE/indices/ls-lR.gz at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Index.pm line 198.

	Ouch, ls-lR.gz is used for what exactly? That's pure funet. I fetch it
	from there. It's huge (2.4M)! How often do they update it?

	/home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Cannot retrieve /home/src/perl/cpan-search-lite/MIRRORED.BY from file:///home/ftp/pub/PAUSE/./MIRRORED.BY at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Index.pm line 198.


	Gotta get this mirroredby file as well...

	% /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Argument "0.20a" isn't numeric in numeric comparison (<=>) at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Util.pm line 274.
	[...]

	Ah, it's quite fast.
	

	* write a dummy distro that reads arguments to Makefile.PL and another
	one that reads something from STDIN (or maybe both in one) DELAYED until
	the distroprefs stuff leaves the alpha stage.

	* Measure kwalitee with Module::CPANTS::Analyse before uploading. That
	way we can catch bugs in M:C:A itself or in its dependencies. DELAYED
	because currently M:C:A doesn't pass its own tests.

	* just a memo what I usually install:

	    o debug CPAN Distribution
	    install Bundle::CPAN YAML::Syck Module::Signature CPAN::Reporter Devel::Symdump
	    force install Expect

	* replace 03 index file with YAML.

	* Todo/buglet: turn on debug "CPAN" and find the reason why
	incommandcolor is quite often not reset. We had that further down but I
	fear it is not yet fixed.

	* Todo: clean up "XXX" in the code

	* "I hate Module::AutoInstall". See down under the hr if you have much
	time.

	* M2 (Wishlist) separate the TTLs for 01,02,03. If somebody asks 'a
	FOO', we should only check for the authors database, etc.

	* E1 Todo: use 00whois.xml instead of mailrc, and follow the UTF-8 HOWTO to
	get rid of the term_is_latin variable. Test output with locales.

	* H4 branch 1.87-dbmdeep-hackery revive? It was very broken but I do not
	remember details. Hint: DBM::Deep promises significant memory savings
	and in that branch we tried to see how it can be made to work for us.

	* M3 RT 17353: Flag outdated CPAN sites and move them to the end of the
	list when they have reached 291 hours. (Note: $CPAN/authors/02STAMP)

	* E1: revisit rev 158:159, the introduction of "recent" and "perldoc".
	#21791 has its bugreport. I don't like that most of the subroutines are
	thrown into CPAN::Distribution either. OTOH, we have commands that have
	no central role within CPAN. One can always refuse to use them. Hrm.
	HTML::Display!

	* E5: (again and again) verify that the CPAN.pm-using modules continue
	to work

  AltaVista-BabelFish DMUEY CPAN-Unwind MSCHILLI CPAN-WAIT ULPFR
	Devel-Modlist RJRAY PAR-Dist-FromCPAN SMUELLER Perl-Dist DAGOLDEN
	Test-CPANpm CRAKRJACK

	* E5 watch RT for open tickets. This todo can never be closed.

	* E1 Todo: continue to close the Pod::Coverage gap. Currently only
	CPAN.pm is covered

	* E3 Todo: write a test for dot-cpan/Metadata usage. Hmmm. Important for
	the future of locking, the future of DBM::Deep, protocol changes. Not
	sure what to test.

	* M3 Todo: investigate what BUGHUNTING in Tarzip means "today": it's
	about a very old bug in Archive::Tar that is most probably fixed. Turn
	bughunting on with the command C< !print$CPAN::Tarzip::BUGHUNTING=1 >.
	It is slow but everything should just plain work. When we're confident
	that everything works, we could offer a tar_policy option that has
	options "ext" and "mod", for external programs vs. modules, default to
	"ext"?

	* M3 Reopened Bug: it seems that a user who is in /bin and has "." in
	the beginning of the path gets ./sh as his shell from FirstTime. If we
	encounter . in the path we should rather ignore it. But first we must
	verify the behaviour. Reported by Slaven Rezic on behalf of Tino
	Schulze. This has nothing to do with -I. but only with the shell and
	$ENV{PATH} and as we do not know which shell it was it seems we cannot
	test for the problem.

	* H1 These days developer TELS posted to perl5-porters that his newest
	release is available at

	    http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	Suddenly it dawned on me that I want to support

	    install http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	What am I missing?

	The other commands dealing with files would have to learn a bit.

	d http://      # fails as before with "No objects of...."

	               # alt: does a HEAD and tells user that the URL can e reached

	ls http://     # lists nothing

	               # alt: says that ls doesn't support URLs

	get http://    # this is probably all we need to implement. Maybe a new
	               # class needed that does as_string and as_glimpse as well?

	And maybe a pragma that turns this feature on? So that 'get http://...'
	never works but 'force get http://...' does? Alt: config variable to
	turn feature on, then a separate module that implements it.

	Brian likes the idea

From: brian d foy <brian.d.foy@gmail.com>
Subject: Re: Welcome new user LOCAL
To: modules@perl.org
Date: Mon, 18 Sep 2006 14:52:48 -0500
Organization: Perl Authors Upload Server
Reply-To: modules@perl.org

In article <877j0361hl.fsf@k75.linux.bogus>, (Andreas J. Koenig)
<andreas.koenig.gmwojprw@franz.ak.mind.de> wrote:

> My spontaneous idea was to support the command
> 
>     cpan> get http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz


oh, very interesting, especially if I already have the file:

   cpan> get file:///....

This makes CPAN::Mini::Inject a bit less useful because I no longer
need the middle man.


	* Make the "new -> ." symlink in scripts/ as outlined in a mail to kurt
	and jarkko

	* M2 feature request by Juergen Christoffel: have time stamps on the
	history and a history command to see them

	* H3 Locking: Linda W writes

	>I'm not sure I understand the reason for the lock file
	>placed in cpan_home.  If I have two different architectures
	>with different build directories, I'm not sure I understand
	>where the conflict is -- is it in storing/listing Bundles,
	>the history file, the Metafile or the shared source?
	
	>I can understand private history, but the Bundles aren't
	>updated often, the sources should be fairly static (unless
	>new files are downloaded), The metafile would be updated about
	>once a day (default).
	
	>If the build directories are separate, why would there be a
	>need for locking more in interactive use vs. batch use?

	And I promise to try out a more granular locking mechanism.

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* write a test with new dummy modules PrerecqurseI and II (or CircDep?)
	Take t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make as the
	source and
	t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne as
	target. DONE in rev. 1031

	* Schwern reopened 21144. Go resolve, I have promised before the next
	release. FIXED in rev. 1016 and 1018

2006-10-13  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* Slaven want direct support for $Config->{make} and
	make_install_make_command so that it can be set to gnumake for PDL on
	freebsd. DONE in rev 1015

	* Slaven says that no user knows the distroname as well as the module
	name. ==> Change the prefs hash structure. "qr" shall be replaced by
	"match" and contain "module" and/or "distro" which are ANDed conditions
	and each may contain a regex. We probably will rename all distroprefs
	files too. DONE in rev. 1013/14

2006-10-13  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* always check if *c*nm*b*l* has crept into the Todo file!

2006-10-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* check the version numbers since we rolled over rev. 1000. DONE, is OK

	* Fix what podcover found: prefs and yaml_loadfile DONE.

	* See if YAML::Tiny works and if so, mention it in FirstTime and maybe
	make it the default?? Doesn't seem to work out of the box. DONE and
	documented in FirstTime.

	* I hate Module::AutoInstall. Watching installation of Plagger:

  CPAN.pm: Going to build M/MI/MIYAGAWA/Plagger-0.7.13.tar.gz

make[1]: Entering directory `/home/k/.cpan/build/Plagger-0.7.13'
/home/src/perl/repoperls/installed-perls/perl/p4tTru3/perl-5.8.0@29004/bin/perl "-Iinc" Makefile.PL --config= --installdeps=File::Find::Rule,0,UNIVERSAL::require,0.1,Template,2.13,Template::Provider::Encoding,0.04,Text::Tags,0,DateTime::Format::Strptime,0,URI::Fetch,0.071,Cache::Cache,1.04,Module::Pluggable::Fast,0,HTML::ResolveLink,0,Date::Parse,0,MIME::Types,1.16,Net::DNS,0,XML::Feed,0.12,XML::Atom,0.23,Term::Encoding,0,XML::Liberal,0.14,XML::RSS::Liberal,0,HTML::Scrubber,0,XML::Feed,0.09,XML::Atom,0.20,HTML::Scrubber,0,Time::Duration::Parse,0,WebService::Bloglines,0.11
CPAN: File::HomeDir loaded ok (v0.58)
*** Installing dependencies...

	Holy crap! Recursive installation where we are just eager to maintain a
	clean and efficient queue of installation objects and could do it
	ourselves so easily? And besides that, the INC path is not our INC path,
	so I always get a different CPAN version. While the latter is only
	disturbing a minority, it's a BUUUUUUG to go recursive.

	Not only does it cost memory, this child is also uninformed about failed
	installations!

	This needs to be fixed.

	The manpage of M:AI says it checks if it is running under CPAN.pm. Maybe
	this check is wrong? Apparently yes.

2006-10-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* restructure the prefs YAML files to have cpanconfig as key and all
	CPAN.pm configs inside that. That gives room to cpanplus. DONE

	* why did MIYAGAWA/XML-Atom not work? -- Because it asked us twice but
	our yaml file only answered once FIXED.

	* improve feedback when you pick a file for prefs settings, maybe store
	the picked yaml file in the distro object. DONE.

	* test if you can get around single modules by specifying
	prefs->{make}{nosuchtarget}. Interesting for MailTools or DBI in current
	bleadperl. EXACTLY! (and tested)

	* test if the Test-Deep setting of brip works. DONE

2006-10-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* F/FD/FDALY/Test-Deep-0.096.tar.gz is just needed temporarily during building or testing. Do you want to install it permanently? (Y/n) [no] 

	* BTROTT/Crypt-DSA-0.14.tar.gz

==> Auto-install the 1 optional module(s) from CPAN? [n] 
==> Auto-install the 1 optional module(s) from CPAN? [n] 

	* PETDANCE/WWW-Mechanize-1.20.tar.gz

Do you want to install the mech-dump utility? [y] 

	* ABW/Template-Toolkit-2.15.tar.gz

Do you want to build the XS Stash module? [y] 

+ about 9 questions

	* BYRNE/SOAP-Lite-0.69.tar.gz

Press <enter> to see the detailed list.  

Do you want to proceed with this configuration? [yes] 

Do you want to perform these tests in addition to core tests? [no] 

	* RCAPUTO/POE-0.38.tar.gz

Would you like to skip the network tests?

(Any text other than Y or y will be taken as a no) [n] 

	* DBROBINS/Net-SSH-Perl-1.30.tar.gz asks

Which protocol(s) do you plan to use? [3] 
Enter your choices, separated by spaces: [1] 
Would you like to install it? (y/n) [y] 
Would you like to install it? (y/n) [y] 

	* ILYAZ/modules/Math-Pari-2.010706.tar.gz asks

Make sure you have a large scrollback buffer to see the messages.
Fetch? (y/n, press Enter) 

	* INGY/Inline-0.44.tar.gz asks for

Do you want to install Inline::C? [y] 

	* EESTABROO/IMAP-Admin-1.6.4.tar.gz asks me for...

Enter server: 
Enter login: 
Enter password: 
Test using SSL(y/n)? 
Test using CRAM(y/n)? 
Enter Port#: 

	* NIKIP/Authen-PAM: asks me for a password during testing and I enter
	"testing". Maybe I should enter exactly what he demands?

	* GBARR/perl-ldap-0.33 and ExtUtils::AutoInstall. Read source code. Same
	for GBARR/Authen-SASL-2.10 DONE

	* CHAMAS/SSLeay: the first distro that shows us that Expect needs a
	debugging aid. Maybe fixed in rev. 998 or so

	* Interesting bug occurred with current maint when I tried to upgrade
	everything. PathTools failed and I see this:

	cpan[3]> d  KWILLIAMS/PathTools-3.22.tar.gz 
Use of uninitialized value in sprintf at lib/CPAN.pm line 4258.
Distribution id = K/KW/KWILLIAMS/PathTools-3.22.tar.gz
    CPAN_USERID  P5P (The Perl5 Porters Mailing List <perl5-porters@perl.org>)
    CALLED_FOR   File::Spec
    CHECKSUM_STATUS OK
    CONTAINSMODS Cwd File::Spec File::Spec::Cygwin File::Spec::Epoc File::Spec::Functions File::Spec::Mac File::Spec::OS2 File::Spec::Unix File::Spec::VMS File::Spec::Win32
    UPLOAD_DATE  2006-10-10
    archived     tar
    build_dir    /home/k/.cpan/build/PathTools-3.22
    incommandcolor 0
    localfile    /home/ftp/pub/CPAN/authors/id/K/KW/KWILLIAMS/PathTools-3.22.tar.gz
    make         NO
    modulebuild  1
    prereq_pm    build_requires requires
	  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    prereq_pm_detected 1
	  ^^^^^^^^^^^^^^^^^^^^
    reqtype      c
    unwrapped    YES
    writemakefile YES
    yaml_content 

	But I cannot reproduce it. So I must have upgraded something that caused
	the bug.

	* Since when fails a YAML test? 0.62 with blead @28990 fails today on
	rt-bugs.t or so. Reported to P5P. RESOLVED in blead @28997.

2006-10-10  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* put the distroprefs directory into MANIFEST. DONE in rev. 993

	* DistroPrefs:

	Variable           Comment                      Done in file

  pl env                                          DBROBINS.Net-SSH-Perl.01.yml
     args                                         GAAS.libwww.01.yml
     expect                                       JJORE.Carp-Clan.01.yml
  make env
       args
       expect
  test env           Tk-Getopt(BATCH=1)           SREZIC.Tk-Autoscroll.01.yml
       args
       expect        ReadLine                     ILYAZ.Term-ReadLine-Perl.01.yml
  install env
          args
          expect
	cpanconfig:
    build_requires_install_policy                 FDALY.Test-Deep.01.yml


2006-10-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-10-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Nice to have: CPAN::MyDistroPrefs to store arguments and expect
	scripts to Makefile.PL/make/test/install based on regexes being matched
	against the distroname. (think libwww, ReadLine, perl-ldap, Apache-Test,
	and always questions from Module::AutoInstall, Carp::Clan asks if I want
	a prereq for testing from Makefile.PL, Net::DNS ask if I want to run
	tests over the internet, mod_perl or Apache::Test asks me for the apache
	executable, Authen-PAM asks me for a password, Module::Signature asks
	for importing the key)

	Name? DistroPrefs is good. Customize is not so good because one would
	expect that it is related to 'o conf'. Distro must be in the name.
	DistroCustomize is too long so DistroBuildEnv seems completely out of
	band. Only Prefs is tempting but again too easily confusable with 'o
	conf' stuff. Something completely different? Its about Env, Args, Stdin.
	BuildInput? Distrinput? Distrin? No. DistroPrefs the long word, prefs
	the short one. 'reload prefs' might be a command if we need it at all.

	ALL DONE in rev. 1015; well, left in alpha state

	* Todo/buglet: turn on debug "CPAN" and find the reason why
	incommandcolor is quite often not reset.

	First example is "Net::Stomp" with a prereq of Class::Accessor::Fast.
	After it and its prereq are installed, the module Class::Accessor::Fast
	and the distro K/KA/KASEI/Class-Accessor-0.25.tar.gz are both still in
	command state.

	So it's something with follow_prereqs.

	Seems to be fixed with rev. 980 but needs to stay on the watchlist

	No, I just tried Bundle::Phalanx100 and the majority of modules was in
	commandcolor and many were neither installed nor reported as failed, so
	the rev. 908 may be buggier than we ever were?? Maybe its just the "run
	it twice" problem due to late dependency resolving. Oh and watch the
	ugly bug that shows up when makeing Mason!

	AHHHH, that is fixable with eval! FIXED in rev. 981.

2006-10-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: clean up XXX

	* automatic testing? Is it anywhere documented what the impacts of
	$ENV{AUTOMATED_TESTING} are?

	* new keyword capture? CPAN::Reporter does not know the output of the
	commands before "test" and cannot report about compilation failures.
	This looks like a major flaw to me:-(

	* E1: Nice to have: make YAML vs. YAML::Syck switchable. Another
	advantage would be that we could remove YAML from the Bundle. DONE rev. 986

	* reload cpan should be based on timestamps. Fixed in rev. 979

	* Bug via Bundle::Phalanx100? Shortly after perl-ldap-0.33 I see 

Unknown require type for 'G/GB/GBARR/Convert-ASN1-0.20.tar.gz', setting to 'r'. This should not happen and is construed a bug.

	Later:
	
Unknown require type for 'A/AG/AGROLMS/GSSAPI-0.23.tar.gz', setting to 'r'. This should not happen and is construed a bug.

	Todo: see after it. I think it's AutoInstall.

	Fixed in rev. 979

2006-10-06  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: cpan[15]> install File::Copy::Recursive                   
Running install for module File::Copy::Recursive
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
Prepending /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/arch /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/lib to PERL5LIB.
Sorry, test with a regular expression is not supported
Running test for module File::Copy::Recursive
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
Prepending /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/arch /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/lib to PERL5LIB.
Refusing to autoload 'test' 'CPAN::Distribution=HASH(0x9b6ff30)' '/usr/bin/make test' in recursion
  /usr/bin/make test -- NOT OK
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
  Won't repeat unsuccessful test during this command
  /usr/bin/make test -- OK
Running make install
Installing /usr/local/perl-5.8.8/lib/site_perl/5.8.8/File/Copy/Recursive.pm
Installing /usr/local/perl-5.8.8/man/man3/File::Copy::Recursive.3
Writing /usr/local/perl-5.8.8/lib/site_perl/5.8.8/i686-linux-64int/auto/File/Copy/Recursive/.packlist
Appending installation info to /usr/local/perl-5.8.8/lib/5.8.8/i686-linux-64int/perllocal.pod

	What I had done was to install CPAN::Reporter but forgot the sudo for
	make. Then I added the sudo to make_install_make_command and did a
	'force get' and then the above. The install was successful in the end
	but the "Sorry" message was written in red and completely bogus and
	together with the 'Refusing to autoload' message was frightening.

	Showstopper!

	Trying to reproduce by setting both m*_install_*_command variables to
	"false", then install CPAN::Reporter. This gives a long list of failed
	installs at the end. Then 'install File::Copy::Recursive' works as
	expected: already tried without success. Then 'force get F:C:R' works as
	expected. And then again 'install File::Copy::Recursive' works as
	expected: tests again and tries to install.

	Shhhhhhh, so I cannot reproduce this, something must have been different.

	GIVEN UP: this did not show up again in any test

	* Who broke libwww recently?

	local/http-get........ok 1/20Use of uninitialized value in numeric eq (==) at local/http-get.t line 167, <DAEMON> line 1.
local/http-get........FAILED test 5                                          
        Failed 1/20 tests, 95.00% okay
local/http............ok 1/18Use of uninitialized value in numeric eq (==) at local/http.t line 158, <DAEMON> line 1.
local/http............FAILED test 5                                          
        Failed 1/18 tests, 94.44% okay


# HTTP/1.1 200 OK
# Date: Sat, 07 Oct 2006 04:16:57 GMT
# Server: libwww-perl-daemon/1.36
# Content-Type: text/html
# Last-Modified: Sat, 07 Oct 2006 03:29:15 GMT
# Client-Date: Sat, 07 Oct 2006 04:16:57 GMT
# Client-Peer: 192.168.0.75:45978
# Client-Response-Num: 1
# Title: En prøve
#
# <html><title>En prøve</title>
# <h1>Dette er en testfil</h1>
# Jeg vet ikke hvor stor fila behøver å være heller, men dette
# er sikkert nok i massevis.
not ok 5 # content_length=0


HERE [html] at ../blib/lib/LWP/MediaTypes.pm line 70.
size[0]mtime[1160191755] at ../blib/lib/HTTP/Daemon.pm line 531.

	Daemon.pm:
	sysopen(F, $file, 0) or 
	  return $self->send_error(RC_FORBIDDEN);
	binmode(F);
	my($ct,$ce) = guess_media_type($file);
	my($size,$mtime) = (stat _)[7,9];

	Tracked and reported to P5P. FINI.
	
	* Todo: Write a new test: If one prerequisite doesn't pass its tests, we
	sure want to test the dependent module but it must not be installed. I
	have no example at hand.

	First continue fixing dummy-Build and dummy-Make distros (and maybe
	more), then make one that is depending on dummy-Fails. DONE in rev. 973

	And write the new test for it. DONE in rev. 975
	
	* Gabor reports #21692: how to reproduce? Just get a 5.8.7 and call
	upgrade on it. No, take a 5.8.8 and silently replace B::Concise with the
	5.8.7 one. OR: take some maint-5.8 short before 5.8.8! Where to find the
	patch number for 5.8.8? Module::CoreList!

	% perl -MModule::CoreList -le 'use Data::Dumper;print Dumper(\%Module::CoreList::patchlevel);' 
	[...]
          '5.008008' => [
                          'maint-5.8',
                          27040
                        ],

	Paging through diff files in APC/5.8.1/ reveals: 25914 updated
	PPPort.pm, 26929 Pod::Simple, 26985 Archive::Tar, 26988 Pod::Man, so I
	expect 26984 a good test candidate.

	My current 26984 replies to "r" command with....no 5.8.8?

	Strange! Why no 5.8.8? Ahhh, because it had no Archive::Tar and Pod::Man
	is on podlators 2.0.5.

	Trying 26876: no good.

	26727: Good! 26727 wants to upgrade Dumpvalue and bring it ot
	perl-5.8.8. I upgrade everything in 26727 except for Dumpvalue. Being
	time consuming, this needs a backup generated with

	tar cvzf p-26727plus-near-588.tar.gz installed-perls/maint-5.8/pbyWflA/perl-5.8.0@26727

	Gabor requests less noise, otherwise he consideres behaviour correct.
	Hrm, think about it...

	FIXED in rev. 963.
	
	* Bug: during 'o conf defaults' I get

Debug(HandleConfig,HandleConfig.pm,95,[Shell,CPAN.pm,1401,edit]): self[CPAN::HandleConfig]args[defaults]
Can't locate CPAN/MyConfig.pm in @INC (@INC contains: _build/lib _build/lib _build/lib _build/lib /home/k/sources/CPAN/SVN/lib /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/5.9.4/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/5.9.4 /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/site_perl/5.9.4/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/site_perl/5.9.4 /home/k/sources/CPAN/SVN) at (eval 512) line 1, <GEN331> chunk 1.
Use of uninitialized value within %INC in concatenation (.) or string at /home/k/sources/CPAN/SVN/lib/CPAN/HandleConfig.pm line 285.
'' reread

	Fixed in rev. 958

	* Bug: cpan[4]> install CPAN::Reporter
Running install for module CPAN::Reporter
Running Build for D/DA/DAGOLDEN/CPAN-Reporter-0.24.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/CPAN-Reporter-0.24

  CPAN.pm: Going to build D/DA/DAGOLDEN/CPAN-Reporter-0.24.tar.gz

Creating custom builder _build/lib/Module/Build/WikiDoc.pm in _build/lib/Module/Build
Checking whether your kit is complete...
Looks good

Checking prerequisites...
Package 'CPAN' already declared with version '1.87_64'
ignoring new version ''.
 - ERROR: IO::CaptureOutput is not installed
 - ERROR: File::Copy::Recursive is not installed
 - ERROR: CPAN (1.87_64) is installed, but we need version >= 1.88

ERRORS/WARNINGS FOUND IN PREREQUISITES.  You may wish to install the versions
of the modules indicated above before proceeding with this installation

Creating new 'Build' script for 'CPAN-Reporter' version '0.24'
lib/CPAN/Reporter.pm -> blib/lib/CPAN/Reporter.pm
lib/CPAN/Reporter.pod -> blib/lib/CPAN/Reporter.pod
Manifying blib/lib/CPAN/Reporter.pod -> blib/libdoc/CPAN::Reporter.3
  ./Build  -- OK
Running Build test
  The version of your Test::Harness is only
  '2.56', you need at least '2.62'. Please upgrade your Test::Harness.
Running Build install
Installing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/CPAN/Reporter.pm
Installing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/CPAN/Reporter.pod
Installing /usr/local/perl-5.8.7/man/man3/CPAN::Reporter.3
Writing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/i686-linux-64int/auto/CPAN/Reporter/.packlist
  sudo ./Build install --uninst 1 -- OK

	Showstopper II! The test refused to run with the reference to
	Test::Harness but the install succeeded nonetheless:(((

	Fixed in rev. 954.

	* Finish the debugging aid of reload. Current code (rev. 953)
	allows

% perl -Ilib -MCPAN -e '
my $ix = bless {}, CPAN::Index;
$ix->reload(shift)' /home/ftp/pub/PAUSE/modules/02packages.details.txt 
CPAN: File::HomeDir loaded ok
CPAN: Term::ANSIColor loaded ok
CPAN: LWP::UserAgent loaded ok
CPAN: URI::URL loaded ok
Going to read /home/ftp/pub/CPAN/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
............................................................................DONE
Going to read /home/ftp/pub/CPAN/modules/02packages.details.txt.gz
  Database was generated on Sun, 01 Oct 2006 18:39:54 GMT
............................................................................DONE
Going to read /home/ftp/pub/CPAN/modules/03modlist.data.gz
............................................................................DONE

	But it reveals unacceptable timing when run via 'reload index'. Timing
	is much better when called as above. Quite confusing is the fact that
	03modlist does not print dots during reload but does so on first time.
	So more debugging called for. FIXED in rev. 956

	* Bug: the line number in the Debug messages is very often wrong. FIXED
	in rev. 955

	* E3 prerequisites: require perl version xxx: we should not delete that
	information but honour it. DONE in rev. 952

	* Todo: do the right thing with prereq "perl". Find modules suited for
	testing.

	"5.8.3" : File-BOM-0.12, XML-DOM-Lite-0.08, Business-ReportWriter-0.09

	">= 5.8.0" : Devel-FIXME-0.01

	">= 5.008" : Data-Visitor-0.05

	"0" : Net-Address-IPv4-Local-0.12

	"" : Net-IRC2-0.27

	The full list of found requires to "perl" today is:

	5.002|5.000|>= 5|>= 5.6|5.6|5.8|5.8.4|>= 5.8.0|5.8.2|5.8.7|5.5.3|5.8.3|>= 5.6.0|5.004|>= 5.008|5.005_03|0|5.5.0|5.4.5|5.00307|5.00503|5.8.0|5.005|5.008|5.7.1|>= 5.005_04|5.007|5.8.1|5.005003|5.6.0|5.006|5.6.1|5.7.3|5

	DONE in rev. 952

	* Todo: investigate if we want a different amount of newlines depending
	on readline availability. Who is it who displays the extra newline as
	soon as readline is active? It is apparently coming from readline and I
	see no reason to interfere. REJECT

	* Todo: send a patch to P5P that adds Queue.pm to the MANIFEST.

	* Todo: add to 30shell the case of repeated testing that was fixed in
	rev 915

	* Attention when testing: Lingua::Alphabet::Phonetic::Password makes
	Test::Pod a "build_requires"; Lingua::Alphabet::Phonetic makes it a
	"requires" instead. So we have it both as "r" and "b" in the queue and
	the first one wins over the other. So once we have something not
	installed due to "b", we cannot install it anymore unless we use
	force:-( It would be nice to make this less confusing for the user and
	resolvable without force for the expert.

	This warrants new tests in 30shell. Let's do diamond dependency:
	CPAN-Test-Dummy-Perl5-Build shall build_require
	CPAN-Test-Dummy-Perl5-Make and require CPAN-Test-Dummy-Perl5-Make-Zip.
	And CPAN-Test-Dummy-Perl5-Make-Zip shall require
	CPAN-Test-Dummy-Perl5-Make. We have not tested install yet (I think) and
	we can try to set make_install_make_command to a perl oneliner or so.
	This constallation shall try to install CPAN-Test-Dummy-Perl5-Make
	because requires trumps build_requires.

	Interactive testing strategy right now:

	rm -f /home/src/perl/repoperls/installed-perls/perl/prCXKHM/perl-5.8.0@28904/lib/site_perl/5.9.4/CPAN/Test/Dummy/Perl5/Build.pm /home/src/perl/repoperls/installed-perls/perl/prCXKHM/perl-5.8.0@28904/lib/site_perl/5.9.4/CPAN/Test/Dummy/Perl5/Make/Zip.pm
	make run

	o debug Distribution Queue Shell Module
	o conf build_requires_install_policy no
	install CPAN::Test::Dummy::Perl5::Build

	DONE in rev. 941

	* H3 Todo: JV suggests treating build_dependencies differently

	To: Johan Vromans <jvromans@squirrel.nl>
	Cc: modules@perl.org
	Subject: Re: Module requirements
	X-Draft-From: ("king-2002" 44465)
	From: andreas.koenig.gmwojprw@franz.ak.mind.de (Andreas J. Koenig)
	Gcc: nnml:sent
	--text follows this line--
	>>>>> On Sun, 02 Apr 2006 14:59:33 +0200, Johan Vromans <jvromans@squirrel.nl> said:

		> andreas.koenig.gmwojprw@franz.ak.mind.de (Andreas J. Koenig) writes:
	 >> Would you really trust that the authors get it right? I didn't and so
	 >> threw the two sorts of dependencies into one basket.

		> Currently, there is no way to make the distinction so there is no real
		> incentive to make the distinction correctly. This could change if a
		> mechanism were available.

	Good point.

	 >> How much pain does the clobbering of the production environment
	 >> cause you?

		> The production environment is also the reference environment. If a
		> module requires something that is not in the production environment,
		> any additional requirements should be added very carefully. Every
		> extension to the production environment is something extra to
		> maintain, and I think it is a very valid argument to try to minimize
		> this.

	Very true.

		> Actually, this question was triggered when I recently tried to install
		> Bundle::CPAN. When it wanted to install a product called Spiffy I
		> decided to hit the cancel button and investigate.

	That brings me to the idea that it would be nice to add these
	build-dependencies into ./blib/bdep or some such idf they are not
	available. I put it on my Todo list.

	-- 
	andreas

	DONE in rev. 941

2006-09-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: test bundles and reqtype; especially when you do NOT install
	things because this opens new branches of code execution DONE

	* Todo: ... and finally we will have to carefully differentiate what we
	do with the things that we get off the queue: breqs shall not be
	installed. And we need a user pref here: treat build_requires as
	requires would have the advantage that the build_requires stuff be
	installed and may save time on the next occasion.

	This needs to be coordinated with David because it breaks
	CPAN::Reporter. Hi, Dave!

	New config option build_requires_install_policy: yes|no|ask/no|ask/yes

	DONE in rev. 916

	* Bug: build_requires that are not installed currently are being tested
	more than once within a single command. Maybe the same bug as described
	below under "Very stupid is CPAN.pm..." FIXED in rev. 915

2006-09-27  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* Todo: canonify usage of req/reqtype/etc. into "reqtype" and shorten
	the known reqtype to one letter: r,b,c and comment on them in
	Queue::reqtype DONE in rev.913

2006-09-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* New warnings

Use of uninitialized value in exists at lib/CPAN.pm line 3874, <FH> line 41067.
Use of uninitialized value $id in delete at lib/CPAN.pm line 793, <FH> line 41067.
Use of uninitialized value $id in delete at lib/CPAN.pm line 794, <FH> line 41067.

	?? Cannot reproduce, maybe due to excessively hitting ^C in the wrong moment?

2006-09-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* find out since when Expect has a failing test with bleadperl. Take
	test #38 alone and do a binary search on it. 26453 has already once been
	involved in an Expect case. Yes, this might mean we have to make
	suggestions for Expect too: which constants are imported erroneously and
	which correctly and how to make this valid for old and new perls? DONE
	see RT #21723.

2006-09-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* build_requires: fortunately the things on the Queue are objects with
	currently only one attribute "qmod", the string.

	    install Bundle::CPAN CPAN::Reporter Expect Module::Signature Devel::Symdump

	First step is to change the constructor to accept more arguments DONE in rev 889

	Next thing will be to go through the chain prereq_pm (where we must not
	merge req and breq)[DONE in rev. 900],
	CPAN::Distribution::color_cmd_tmps
	(where we must mark both req and breq)[DONE in rev. 900], unsat_prereq
	(where we must handle both req and breq)[STARTED in rev. 900, but still
	in need of a differentiation of @need_req and @need_breq or so; FINISHED
	in rev. 902] and follow_prereqs (where we must look closer on jumpqueue
	and handle req and breq differently and make sure that the inheritance
	is correct: reqs of breq are only breqs)[WIP when 910 is being checked
	in; finished in rev. 913] See continuation above "and finally we
	will..."

2006-09-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* So what was 886 about? Put CPAN::Queue in its own file.

	* Bug introduced between 881 and 886. If a Module::Build module fails,
	we happily take it as an OK. CPAN-Test-Dummy-Perl5-Build-Fails reveals
	the bug. Going back step by step with 'svn up -r XXX' we see what was
	broke too: 885, 884, 883, 882, 881!!!

	What!??? 881 was a release! Between 879 and 881 no code changed.

	878 was a bit different. And 877. And all have this bug suddenly.

	So I start to believe it is a bug in the maint-5.8 branch or in some
	module we installed since. My maint is 28854 right now.

	Testing again with bleadperl and 886: NOT BROKEN!

	The only two modules out of date in my blead are Class::Accessor and
	version.pm.

	Outdated modules in current maint-5.8:

	CGI CPAN Devel::PPPort Digest Encode ExtUtils::Command ExtUtils::Install
	ExtUtils::Manifest ExtUtils::ParseXS IO Locale::Maketext Math::Complex
	Sys::Syslog Term::ANSIColor Test::Builder Test::Harness Text::Balanced
	Text::Soundex Text::Tabs Tie::RefHash Time::HiRes Time::Local
	Unicode::Normalize threads threads::shared

	Updated as much as I could and ALL IS WELL.

	So now we don't know who was to blame. Restarting over and going step by
	step: it was Test::Harness 2.58. So we have a difficult-to-explain
	dependency here: CPAN + Module::Build-deploying modules + Test::Harness
	< 2.62 leads to not recognized test failures. I put Test::Harness into
	the Bundle::CPAN. Maybe I must verify the Test::Harness version before
	testing MB modules? FIXED by making T:H 2.62 a PREREQ_PM and testing
	again in the code. In rev. 888

	* Todo: 'dump symbol', say 'dump $CPAN::META'. But pipe into the pager
	for large datasets! DONE in rev. 885

	* build_requires: need two modules that have build_dependencies which I
	do not install and still both must build. This means, I inject the
	build_dependencies into the queue and flag them as build_dependency
	which then leeds to a simple make or test for them, never to an install.
	Up to now we use set_perl5lib during CPAN::Distribution::test. In the
	future we would need a similar vein during the two earlier stages,
	{Makefile,Build}.PL and make. Yes, this should do.

	Where are our build_requires? I keep forgetting the URL where Randy Sims
	provides so useful statistics. Here it is:
	http://thepierianspring.org/perl/meta/

	And the build_requires page is here:
	http://thepierianspring.org/perl/meta/fields_in_use/build_requires.html

	But manually skimming the 876 distros is tedious, so I need again my own
	script.

	One thing is complicated: when a module is a build_prereq, then all
	*its* prereqs are also degraded into build_prereqs unless they are
	already prereqs for something else:-! And then we have the diamond
	dependency: Foo buid_requires Bar and requires Baz. Bar requires Frob,
	Baz requires Frob. So we make it a bit operation: REQ => 1, BREQ => 2?

	OK, candidates for my tests:

	MARCEL/Class-Null                         Test::Pod::Coverage

	Not suited for testing. It has a Build.PL that requires Project::Build
	which does not exist at all and when a user preferes Module::Build over
	ExtUtils::MakeMaker he fails immediately. It has a Makefile.PL that has
	Test::Pod and Test::Pod::Coverage as PREREQ_PM and it has a META.yml
	that tells me that Test::Pod and Test::Pod::Coverage are build_requires.
	But when I grep for Test::Pod and Test::Pod::Coverage, they are not
	mentioned anywhere. The solution would be to remove the Build.PL and the
	META.yml and remove the PREREQ_PM lines in the Makefile.PL.
	
	JFITZ/Lingua-Alphabet-Phonetic-Password   Test::Pod::Coverage

	Need to set prefer_installer MB because it comes with a Makefile.PL. The
	dependecy graph seems to get very large. Test::NoBreakpoints failes its
	tests. But in the end, L:A:P:P passes its four tests quickly and skips
	the one that need Test::NoBreakpoints. Vorbildlich!

	Very stupid is CPAN.pm when I repeat the 'test L:A:P:P' command: it
	repeats all tests for all dependencies and only then runs the test on
	L:A:P:P. This is time-consuming and may be a bug or a feature. Don't
	know the reason. FIXED in rev. 915
	
	ATRICKETT/Config-Trivial                  Test::Pod::Coverage

	ADIE/Test-Class          Test::Differences
	KCLARK/SQL-Translator    Test::Differences   # not good for testing
	SPOON/WWW-Yahoo-Groups   Test::Differences

	CHROMATIC/Class-StorageFactory  Test::Pod
	MTHURN/Net-Address-Ethernet     Test::Pod
	RCLAMP/Class-Persist            Test::Pod

2006-09-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* I have seen this bug with 5.6.2, 5.8.3, 5.8.4, 5.8.5; it seems not to
	effect bleadperl and 5.8.8, 5.8.6-RC1

	Once you have installed both Module::Signature AND CPAN::Reporter, you
	cannot test both of them in the same session. E.g. with 5.8.4 I do

	test Module::Signature
	--> tests ok, do you want to report? no,no,no
	test CPAN::Reporter
	--> tests ok, debug says "main: distribution\nmain:\
	comments\nCPAN::Reporter defines neither package nor VERSION--version\
	check failed at (eval 70) line 405."
	test Module::Signature
	--> tests ok, debug says "main: distribution\nmain:\
	comments\nCPAN::Reporter defines neither package nor VERSION--version\
	check failed at (eval 70) line 405."

	"version check failed" is in
	/usr/local/perl-redhat-5.8.5/lib/5.8.5/pod/perldiag.pod:

=item %s defines neither package nor VERSION--version check failed

(F) You said something like "use Module 42" but in the Module file
there are neither package declarations nor a C<$VERSION>.

	So I spot this line in CPAN::Reporter:

    $tr->via( 'CPAN::Reporter ' . CPAN::Reporter->VERSION );

	and I change it to

    $tr->via( 'CPAN::Reporter ' . $CPAN::Reporter::VERSION );

	and the bug is worked around.


2006-09-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* #  FAIL  DBIx-Timeout  1.01 350359 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Net-SDP 0.07 350354 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS GIS-Distance 0.01000 350352 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Class-Measure 0.02 350351 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS WWW-Pagination 0.35 350350 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Socket-Multicast6 0.01 350348 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS IO-Socket-INET6 2.51 350347 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)

	Repeating experiments with CPAN::Reporter and Net::SMTP and AUTOMATED_TESTING

	I just started with a fresh blead@28875 and the command

	    install CPAN::Reporter Bundle::CPAN Module::Signature Devel::Symdump

	and all reports that CPAN::Reporter offered were accepted by me. So
	tomorrow morning I expect reports on testers.cpan.org above the FAIL for
	DBIx-Timeout. Then I can install Mail::Send again and send a few reports
	and then I can set AUTOMATIC_TESTING and on the next perl I can do that
	in opposite order.

	7 hours later nothing shows up on http://testers.cpan.org/recent.html

	I'd better go subscribe to cpan-testers. Now I am subscribed and I
	re-tested with blead@28876 and while Mail::Send does send out messages
	since I added the MASQUERADE_AS line, they do not come back to me. I
	need to change the email_to to me on the next try.... And yes, the mail
	arrives. Apparently it is not accepted at testers, only Net::SMTP gets
	through. Maybe some MX thingie going on.

2006-09-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* repeating the exercise of testing CPAN::Reporter

	blead@28868: install CPAN::Reporter and its dependencies (no MailTools
	but Net::SMTP ist there). Testing TAPx::Parser fails miserably, the
	report seems to be sent. Testing CGI::Session succeeds with lots of
	SKIPs. The report seems to have been sent. Testing Module::Signature
	succeeds with just a single test, report seems to have been sent.
	Installing CPANPLUS::Dist::Build installs among many other dependencies
	CPANPLUS itself, the latter succeeds and I let CPAN::Reporter send a
	mail which seems to work.

	Now I install Mail::Mailer and succeed. The Mail is still sent by
	Net::SMTP and apparently succeeds.

	Now let's try IO::Tty. Tests succeed but it's a test.pl based distro, so
	CPAN::Reporter cannot send mail. To get to a quick end, I now test
	CPAN::Reporter itself. It pretends to send mail, from the debug output I
	recognize Mail::Mailer. And now I have two mails in the mqueue with
	"Could not resolve k75.linux.bogus". QED.

	MASQUERADE_AS(`franz.ak.mind.de')dnl in the sendmail.mc seems to have
	done the trick.

	* find out why CPAN::Reporter cannot send mail on my home machine

	Somebody seems to try to send mail and using the local address
	(k75.linux.bogus) in a HELO or something. I'm testing with
	Devel::Symdump.

	Installed modules? Mail::Send from MailTools? Net::SMTP from libnet?

	MailTools no, N:S yes.

	Ah, Test::Reporter says "If you have MailTools installed". Hmmm. This
	test succeeded today with blead@28866. Will have to wait again to see a
	fail.

	So now I have MailTools installed and now I see again the message

% mailq
MSP Queue status...
/var/spool/mqueue-client is empty
                Total requests: 0
MTA Queue status...
                /var/spool/mqueue (1 request)
-----Q-ID----- --Size-- -----Q-Time----- ------------Sender/Recipient-----------
k8J6VCVD013108     3070 Tue Sep 19 08:31 <k@k75.linux.bogus>
                 (Deferred: 450 Could not resolve k75.linux.bogus)
                                         <cpan-testers@perl.org>
                Total requests: 1

	This is the debugging output of {CPAN,Test}::Reporter:

Sending test report with 'pass' to cpan-testers@perl.org
Test::Reporter: debug
Test::Reporter: send
Test::Reporter: debug
Test::Reporter: from
Test::Reporter: debug
Test::Reporter::Mail::Util: _mailaddress
Test::Reporter: debug
Test::Reporter: report
Test::Reporter: debug
Test::Reporter: subject
Test::Reporter: debug
Test::Reporter: _verify
Test::Reporter: errstr
Test::Reporter: debug
Test::Reporter: _have_mail_send
Test::Reporter: debug
Test::Reporter: _mail_send
Test::Reporter: via
Test::Reporter: address
Test::Reporter: debug
Test::Reporter: from
Test::Reporter: debug
Test::Reporter::Mail::Util: _mailaddress
Test::Reporter: debug
Test::Reporter: subject
Test::Reporter: debug
Test::Reporter: mail_send_args
Test::Reporter: debug
Test::Reporter: _have_mail_send
Test::Reporter: debug
Test::Reporter: report

	Need to repeat the process and then report as a bug.

2006-09-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-09-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Test the urllist dialog. Requires a fake mirrored.by file. DONE in rev. 851

	* Todo: test many cases:

	if we have a urllist, if have none: can we always hit RETURN and reach
	the end, especially if we already have a previous pick? Once upon a time
	the user may have been able to reach the previous pick from the
	continent question. The hint is the $no_previous_warn variable.

	if we say 'o conf init'...yes/no (yes is what the shell test does, so
	there's no need here to investigate this branch)

	What's about the SPACE RETURN thing, is it broken and since when? It
	seems it works again, maybe since rev. ???

	* http://www.flight.us/misc/FirstTime.pm_AStrebkov.htm (E3) and
	http://groups.google.com/group/comp.lang.perl.misc/browse_thread/thread/a3f172fedc02c280/5814e81793793b64#5814e81793793b64
	by Andrew Strebkov makes the URL selection nicer.

	It allows hyphenated ranges like 10-14. It also fixed the SPACE RETURN
	bug that seems to be fixed now anyway. DONE in rev 848

	* MAYBE change syntax for 'o conf init MATCH' to require two slashes for
	the regex version just for ortogonality. REJECTED because this argument
	does not have the same magic as other arguments that may be several
	different types of strings.

	* The $demobug thing is underdocumented! Go after the bug hidden there.
	FINISHED
	
	* Todo: write a test that checks if the keys in HandleConfig are all
	documented in the POD. DONE in rev. 831

2006-09-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rev 807 broken (and _62 was most likely broken too): prompt namespaces
	now too much voodoo. FirstTime::_real_prompt is not defined everywhere.
	Goto the drawing board

	CPAN::Shell::colorable_makemaker_prompt used in package CPAN and
	CPAN::Distribution uses ExtUtils::MakeMaker::prompt

	CPAN::FirstTime::_real_prompt is local in CPAN::FirstTime::init for
	colorizable and later for a closure and yet later again directly for
	colorizable again

	CPAN::FirstTime::prompt is used within CPAN::FirstTime::init many times

	my_dflt_prompt uses prompt

	my_yn_prompt uses prompt

	my_prompt_loop uses prompt

	conf_sites uses prompt

	picklist uses prompt

	bring_your_own uses prompt

	prompt uses _realprompt

	Q.E.D. _real_prompt  may be undefined. Stupid. FIXED in rev. 825

	825 also fixes 5.8.0 which always matched each prompt twice. All I had
	to do was to change the tests so that no non-prompt-match ever matches a
	prompt accidentally

2006-09-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: again go testing with several perl versions.

	Especially the urllist dialog needs test cases. But older perls as well
	need attention.

2006-09-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Tempted to give up on Term::ANSIColor. If I turn on colorize_output in
	TestConfig.pm, then we do not pass tests. Somehow loading of
	Term::ANSIColor changes too much.

	utf8 handling wrong with ANSIColor; err, no, only an emacs issue.

	several '# Can't exec "./Build": No such file or directory at /home/k/sources/CPAN/SVN/blib/lib/CPAN.pm line 5477.'

	Yes, this is reproducable. The Makefile target
	testshell-with-protocol-twice runs the testsuite once with
	colorize_output off and once with on and we see that colorize breaks the
	tests. Todo: make the difference between colorize and not colorize as
	small as possible, then we know which lines we can blame.

	Yes, now I have it reproducable and the blame is clearly not on
	Term::ANSIColor but on some perl leakage. To demonstrate the bug, set
	the $demobug variable in CPAN.pm to a true value. Then run make
	testshell-with-protocol-twice. I seen the second run with
	colorize_output==TRUE fail. Maybe it's the use of the regex, I don;t
	know yet. Need to narrow down.

	But the important step is that I now have a workaround and can support
	colorization with just a small compromize. AND I can turn the bug on and
	investigate in many different contexts. FIXED all that in 809

	The $demobug thing is underdocumented!
	
2006-09-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: run everything with PRINT_ORNAMENTING turned on to see what is
	myprint and what is mywarn. Are both going to STDERR? We should document
	when to use myprint and mywarn. And we should not let anybody use print
	directly. DONE

2006-09-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bugs in FirstTime: print and warn not unified; needs to be
	investigated: two calls to warn replaced with print in rev. 803:
	somebody ate the warnings, they were not displayed for unknown reasons.
	Update: no, the warnings were not dropped but the global value of
	$CPAN::Config->{urllist} was emptied when I interrupted the selection
	process. Fixed in 804-807 or so.

2006-09-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* hr ================ no todos below this line ================ /hr

	* Todo: use 'o conf init MATCH' when only a few mandatory variables are
	missing so that people need not go through the whole cycle DONE in rev
	785

	* Bug: Your proxy_user? [] Or not?

	784,5,6 something terrible broken... FIXED in rev 788

2006-09-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: "o conf init novar" shall tell that it is not a config variable
	but 'o conf init var' shall only go to this variable's dialog, not
	everything that has this substring. DONE in rev 778

2006-09-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: why has the question for the ftp_proxy no square brackets? FIXED
	somewhere between 775 and 782

	* Todo: the prompt for keep_source_where seems bogus and people cannot
	choose it anyway. With a bit of rewording one could call it
	build_dir_intro and then we would find out that we have no prompt for
	the keep_source_where config variable. FIXED in rev 784

	* Todo: completion for 'o conf init MATCH' DONE in rev 776

2006-08-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* replace "no lib '.'" with rel2absing the INC if rel2abs is available
	(suggested by Slaven Rezic) DONE in rev 773

	* Todo: investigate why 'o conf init histsize' still asks two questions.
	Maybe we should write the test automatically with all available
	variables and see if one question is asked. STARTED for all but the
	_list and _hash stuff and for undocumented things like
	commandnumber_in_prompt and things we never ask like ftp_passive. It
	turned out that histsize really depends on histfile and they should be
	asked as a pair. But then I tried 'ftp' which hit several options,
	'^ftp$', '\bftp\b' which both did not match at all and I wondered if
	this needs to be addressed or not and how. Same for make. What about
	inactivity_timeout? why does it use prompt(), not my_default_prompt?
	index_expire? username? password? ALL FIXED between 775 and 784

	* Todo: document 'o conf init MATCH' and write a couple tests into
	30shell.t DONE

2006-08-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: integrate branch
	https://pause.perl.org:5460/svn/cpanpm/branches/dagolden-cpan-reporter
	DONE by David in rev. 758

2006-07-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* As #20754 I requested bzip2 support from CPANPLUS. I should write the
	code for mldistwatch so that I just have to turn on the indexing of bz2
	files. DONE in rev 815 of the PAUSE repository.

	* Todo: add a command to list all scripts and use it to test-install all
	of them to get a good coverage for the new 'install <script>' support.
	DONE in revision 746

2006-07-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-07-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Jim Cromie suggests: tweak shell to allow cpan> o conf init @sections
	tweak FirstTime::init() interface to accept optional @sections

	put various interactive Qs into groups of conditionals: if ( !@sections
	     or grep /$this_sect_name/, @sections)

	candidate sections: progs - external prog selection make - all make
	options DONE in re 784

	* hr ================ no todos below this line ================ /hr

	* How do I merge the branch 1.87-install-scripts into current code base?

	The problem is, I do not remember where the branch started. Is this a
	problem? I have the branches already checked out in ../SVN-branches/.

	There I find the train hackathon result was in 689 and 686 was the copy
	that started the branch.

	So I guess the merge command would have to be

	svn merge -r 686:689 https://pause.perl.org:5460/svn/cpanpm/branches/1.87-install-scripts

	YES, this did it and is now to be checked in as rev. 733

	'install ANDK/keepcool-0.344' works now like a charm, the stored script
	name is even 'keepcool' and not 'keepcool-0.344'.

2006-07-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* From: Adam Kennedy <adam@phase-n.com>
	  Subject: Re: CPAN.pm, META.yml, PREREQ_PM and dynamic dependencies
	  To: "Andreas J. Koenig" <andreas.koenig.gmwojprw@franz.ak.mind.de>
	  Date: Tue, 11 Jul 2006 16:58:34 +1000
	  
	  Andreas
	  
	  dynamic_config was a major major design mistake, that they got
	  entirely backwards. It relies on authors to not forget to set the
	  dynamic flag, or it results in a failed install.
	  
	  But of course, nobody ever does remember to set it, and we have a huge
	  number of existing modules that don't do this properly.
	  
	  There is no problem at all in us having the requires values considered
	  to be "advisory" only, and then "localize" the dependencies.
	  
	  In short, the flag should have actually been the other way around
	  (i.e. static_config) and so dynamic_config should ALWAYS be 1, unless
	  you have it EXPLICITLY set to 0.
	  
	  We may or may not be able to get the spec revised later on, but in the
	  mean time, dynamic_config should aways be 1 unless you have an
	  explicit 0, not just when there is no requires field.
	  
	  This makes installation potentially a bit slower, and less able to
	  shortcut, but it makes sure that installation remains correct.

	I just tried to make this a Todo item but then checked the code and
	found it bahaves already as Adam suggests. ---> DONE

2006-06-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* make signature-checking a feature that can be turned on or off and
	which defaults to off. (requested by Adam Kennedy) DONE in rev. 726 or
	so

2006-04-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* apply patch by

From: "Enzer, Matisse BGI SF" <matisse.enzer@barclaysglobal.com>
Subject: CPAN 1.87 - proposed patch to add Basic Auth for non-proxy URLs
To: "Andreas Koenig" <andk@cpan.org>
Cc: "Thalhammer, Jeffrey BGI SF" <Jeff.Thalhammer@barclaysglobal.com>
Date: Tue, 25 Apr 2006 22:17:35 -0700

	which is stored at patches/enzer-matisse-CPAN-1.87.patch DONE in rev 729

2006-04-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Recap branches:

% svn ls https://pause.perl.org:5460/svn/cpanpm/branches
1.80_56plus/
1.87-dbmdeep-hackery/
1.87-install-scripts/

	Merge in 1.87-install-scripts without much further ado. DONE in rev. 733

	Try to recall how broken 1.87-dbmdeep-hackery was. It was very broken
	but I do not remember details.

	* dynamic_config => 1 means that I must throw away the contents of the
	META.yml and if the key is missing, I must default it to 1. DONE in rev
	720

2006-04-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-03-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* test the change that I made on Vassilii's suggestion in #18011,
	checked in as rev. 712.

2006-03-06  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* feature request by Martin Sluka: the upgrade command, as described
	further down; to catch the isa_perl issue, we must instantiate a
	Distrostatus object instead of the bare "return" in line 5077. And test
	thoroughly what happens the second time around and later when the user
	finally says "force"; DONE in rev. 727

2006-02-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* dslip status shows only 4 fields instead of 5. For license infos from
	META.yml see http://www.thepierianspring.org/perl/meta/. DONE in rev.
	669

2006-02-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo 30shell:

	Todo: rewrite the 30shell.t test for Open3 (or just a tempfile) by
	concatenating all regexes or split on the prompt. DONE

	Run the test 30shell on a freshly installed perl and see that only those
	tests fail that need prerequisites. Or better yet, no tests at all? DONE
	in rev. 663

	When we succeed with this, make a version that runs within the core of
	perl, maybe filter out just those tests that do not require additional
	resources. REJECT: provides no extra utility

	* To: Tyler MacDonald <tyler@yi.org>

	 >> If I understand the problem right, it is that you wish to use a module in the
	 >> current distribution (a subclass of Module::Build) to do the installing.
	 >> If this is correct, you only need to put a 'use lib "lib";' in your Build.PL
	 >> for it to be picked up properly.  (It does not need to be installed in the
	 >> standard places before you use it.)
	
		> 	Nope, that problem is handled already in
		> DBIx::Migration::Directories.
	
		> 	I now have a Schema::RDBMS::AUS package, which needs the subclass
		> that DBIx::Migration::Directories supplies.
		> DBIx::Migration::Directories::Build needs to be available at the time
		> Build.PL is run so that it can alter Module::Build's config and supply extra
		> actions.
	
	Add it to your "requires" hash, that way it will end up in META.yml and
	if people have YAML installed, they can read it.
	
	If people have YAML not installed they will call either the
	Makefile.PL or the Build.PL to hopefully find out what the
	prerequisites are. That way you get the prerequisites but as you have
	noticed, it is too late for your build process.
	
	I don't know how I will fix that. Suggestions welcome. I put it into my
	Todo file.
	
	* Feature request: when asking 'm /svn::notify/', then I would like to
	see in the list which of the modules are installed locally. Was that
	what Admin was doing?

  It would not work for distros, but for modules. Not for bundles either.

  3 states: not installed, not up-to-date, up-to-date  ... space,"<","="

  color codes: green=uptodate, yellow=not uptodate, black=not installed

	DONE in rev. 732

	* upgrade: new command that does nothing but
	CPAN::Shell->install(CPAN::Shell->r)? Do not forget that we still may
	have perl distros in the "r" list. DONE in rev. 727

	* DBM::Deep for a hash behind $CPAN::META. See 2005-12-28 for issues and
	branches/1.80_56plus for a few lines that probably went in the wrong
	direction. Split the loading of Authors/Modules/Distros/Bundles into
	separate pieces and make them lazy. Consider 'reload index', the
	storable Metadata file, readonly/readwrite, changes of the DSLIP thingy,
	offsets into an uncompressed 02xxx file. Remember RT #4943. Remove the
	code for "status" when finished

	* readline: offer the choice between Gnu and Perl

	* Bug: installing scripts without modules? How does it work? How
	should it work? getting the latest version ad-hoc?

	* hr ================ no todos below this line ================ /hr

2006-02-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Install without {My,}Config.pm, the rules should be:

	if there is no CPAN/MyConfig.pm already loaded, we must try to load a
	CPAN/Config.pm

	if there is no CPAN/Config.pm, we must initialize one immediately. If we
	are root, this should be something like
	/usr/local/perl-5.8.0@27277/lib/5.8.8/CPAN/Config.pm as I just tested it
	with 5.8.8.

	So if root installs CPAN without testing it, they have no CPAN/Config.pm.
	They start it and land immediately in the init process. Good.

	If he runs 'make test' it should succeed all tests. Currently it fails
	12cpan and skips 30shell because of 'no Expect'. ==> TODO. DONE with
	rev. 659

	If they have no CPAN/Config.pm and start cpan as an ordinary user, then
	they should get, without asking, a ~/.cpan/CPAN/MyConfig.pm and land in
	the init dialog. This is currently OK.

	* Todo: mention rt.cpan.org in the manpage. Oops, this was already DONE

2006-02-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rethink if the CPAN/Config.pm file now is being built at all. Shouldn't
	it be built as a system-wide default? Yes, it is being built. DONE

2006-02-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: the new test 12cpan.t is not suited for 5.004_05:

t/12cpan............Unquoted string "qr" may clash with future reserved word at t/12cpan.t line 13.
Unquoted string "command" may clash with future reserved word at t/12cpan.t line 13.
syntax error at t/12cpan.t line 13, near "/,"
Unquoted string "qr" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "foo" may clash with future reserved word at t/12cpan.t line 17.
syntax error at t/12cpan.t line 17, near "+=>"
Unquoted string "bar" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "baz" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "foo" may clash with future reserved word at t/12cpan.t line 17.
Execution of t/12cpan.t aborted due to compilation errors.
# Looks like your test died before it could output anything.
dubious

	and not for 5.005_04:

t/12cpan..........Can't locate object method "catfile" via package "File::Spec" at t/12cpan.t line 3.
# Looks like your test died before it could output anything.
t/12cpan..........dubious                                                    
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 1-3
        Failed 3/3 tests, 0.00% okay

	FIXED

	* Bugalert: I saw the "awry" case without a reason.

cpan[10]> install Bundle::Spd
Signature for /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS ok
Checksum for /home/k/.cpan/sources/authors/id/G/GA/GAAS/libwww-perl-5.805.tar.gz ok
libwww-perl-5.805/
libwww-perl-5.805/lib/
libwww-perl-5.805/lib/HTTP/
libwww-perl-5.805/lib/HTTP/Cookies.pm
[...]
libwww-perl-5.805/Changes
libwww-perl-5.805/AUTHORS
libwww-perl-5.805/README
libwww-perl-5.805/lwpcook.pod
Removing previously used /home/k/.cpan/build/libwww-perl-5.805
Package came without SIGNATURE

Running install for module HTML::HeadParser
Running make for G/GA/GAAS/HTML-Parser-3.50.tar.gz
LWP not available
Fetching with Net::FTP:
  ftp://localhost/pub/CPAN/authors/id/G/GA/GAAS/HTML-Parser-3.50.tar.gz
Signature for /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS ok

Warning: No checksum for HTML-Parser-3.50.tar.gz in /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS.

The cause for this may be that the file is very new and the checksum
has not yet been calculated, but it may also be that something is
going awry right now.
Proceed? [yes] Caught SIGINT
Got another SIGINT

cpan[11]> ls GAAS


	After that, the problem was not reproducable. Remove and reinstall perl,
	install CPAN, install Bundle::CPAN, install Bundle::Spd works.

	So we have a hard to reproduce bug.

	Running 'install Bundle::Phalanx100' gives after 20 minutes

Warning: No checksum for Net-Daemon-0.39.tar.gz in /home/k/.cpan/sources/authors/id/J/JW/JWIED/CHECKSUMS.

The cause for this may be that the file is very new and the checksum
has not yet been calculated, but it may also be that something is
going awry right now.
Proceed? [yes] 

	This time I look immediately into the CHECKSUMS file (which is the cached
	one!) and indeed there is no Net-Daemon-0.39.tar.gz in it. On the CPAN
	we do have a newer checksums file. Is this cool?

	So we have the root of the cause. Now for a solution?

	I can answer 'no' and then reproduce the problem. Note that the old
	CHECKSUMS file is 3 months old and its timestamp is 1 month old.

	Fixed in 638 with the new argument $sloppy for CHECKSUM_check_file, but
	test still missing. ... Test added by adding CHECKSUMS@588 in rev. 643

	Later renamed to CHECKSUMS.2nd (around rev. 1033)

2006-02-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: with 'o debug all' we did not reach 'Distribution seems to have
	never been unzipped/untarred, nothing done' but instead some "Unknown
	distribution" or so. Fixed in 625

	* Bug: in the last test run we did not detect that
	ANDK/CPAN-Test-Dummy-Perl5-Make-1.02.tar.gz was not in the CHECKSUMS
	file. We had the 

	#     CHECKSUM_STATUS NIL -- distro not in CHECKSUMS file

	in the "d" output but we did not pass he code that shouts. Fixed in 624

2006-02-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-17  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: on a system without make installed, CPAN happily tries

	Checking if your kit is complete...
	Looks good
	Writing Makefile for CPAN
			-- NOT OK
	Running make test
		Can't test without successful make
	Running make install
		make had returned bad status, install seems impossible

	REJECT: this is a bugreport against an old CPAN.pm

2006-02-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* watch http://perlmonks.org/?node_id=530600

	Does anybody answer my question 'How do you run nmake when it is in a
	path that contains spaces?'? LEAVE WINDOWS ASIDE

2006-02-16  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-14  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: inexistant distro leads to perl error; clean on uninstalled
	distro would be nice as a test case

	% perl -Ilib -MCPAN -e 'CPAN::Shell->$_("MARKSTOS/Test-XML-Valid-0.04345.tar.gz") for qw(clean d);'
Going to read /home/akoenig/.cpan/sources/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
Going to read /home/akoenig/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 14 Feb 2006 02:18:00 GMT
CPAN: HTTP::Date loaded ok
Going to read /home/akoenig/.cpan/sources/modules/03modlist.data.gz
CPAN: Storable loaded ok
Going to write /home/akoenig/.cpan/Metadata
Running make clean
Distribution has no own directory, nothing to do.
Can't use string ("") as a HASH ref while "strict refs" in use at lib/CPAN.pm line 3857.

	Fixed in rev. 604

2006-02-14  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: Module-Build-0.27_07 fails the test runthrough.t with
	blead@27166:

t/runthrough......ok 14/28                                                   
#   Failed test 'Check version used to create META.yml: 0.2707 == 0.270700'
#   in t/runthrough.t at line 142.
#          got: '0.2707'
#     expected: '0.270700'
t/runthrough......NOK 19# Looks like you failed 1 test of 28.                
t/runthrough......dubious                                                    
        Test returned status 1 (wstat 256, 0x100)

	Ditto for 27154, 27016; 26919 is OK. Hmmm, several perls in between are
	OK. So far these are debugging perls. No, 27088 is another one that is
	OK and it is nondebugging.

	If YAML is not installed, the test is skipped, so I must make sure that
	YAML is installed, but this is difficult because YAML was broken by perl
	until recently.

	OK, looked into the code instead and wrote bug report to the M:B mailing
	list. DONE.

2006-02-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: Randal reports that Zoidberg has both a Makefile.PL and a
	Build.PL and he has prefer_installer EUMM and yet CPAN chose to run the
	Build.PL. rt #17612. RESOLVED as not a bug in CPAN.pm

2006-02-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug?: Somehow I managed to get POE to fail the installation, maybe
	AutoInstall was involved. I then installed LWP and then tried POE again.
	It succeeded in all tests, but make install said, it had "Already tried
	without success". In such a moment this is simply the wrong thing, we
	would much rather that CPAN.pm retried, especially as the test suite
	runs forever!

	So is this a bug? I cannot tell before I know why the first installation
	attempt failed.	Cannot reproduce.

	* Foreign bug: POE with bleadperl@27154 fails a few tests with

	*** glibc detected *** double free or corruption (!prev): 0x085ed6e0 ***
tests/30_loops/30_event/comp_tcp_concurrent.........dubious                  
        Test returned status 0 (wstat 6, 0x6)
DIED. FAILED tests 1-42
        Failed

tests/30_loops/10_select/comp_tcp    0     6    42   42 100.00%  1-42
tests/30_loops/20_poll/comp_tcp_c    0     6    42   42 100.00%  1-42
tests/30_loops/30_event/comp_tcp_    0     6    42   42 100.00%  1-42
44 tests and 16 subtests skipped.

	Does not fail with 5.8.8.	Blame? 27059! REPORTED

2006-02-10  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: t/37-translator-graph....Can't locate object method
	"is_trivial_link" via package "GLOB" at
	/home/k/.cpan/build/SQL-Translator-0.07/blib/lib/SQL/Translator/Schema/Graph.pm
	line 46.

	with bleadperl@17102 when trying to test SQL::Translator. Happends on
	blead, not on 5.8.8 but with 5.8.8 I have other (and much more) failures

	With #16852 I have already a ticket there for the signature.

	I regret that I did not include the full command needed to upload one's
	key. Here it is:

    gpg -a --keyserver hkp://pgp.mit.edu:11371 --send-keys YOURID

2006-02-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when Running "Makefile.PL" fails, then the case is not reachable
	for the failed routine. Need another Naysayer category?? Try
	Digest-SHA-5.34.tar.gz under perl-5.004_05 before Module::Signature is
	installed. FIXED in rev. 580

2006-02-05  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: RDF::Simple installs although I see failing tests?

	./Build test returns true even if tests fail. This was not always the
	case or was it? No, it wasn't.

	I go into the Class-MethodMaker-2.08 directory and try

	perl Build.PL
	./Build test
	./Build clean

	If Module::Build is missing, I install it manually. No CPAN.pm involved.

	These perls behave (exit 255):
	
	/home/src/perl/repoperls/installed-perls/maint-5.8/pIPN6hB/perl-5.8.0@26560/bin/perl
	/home/src/perl/repoperls/installed-perls/maint-5.8/pcE7NPt/perl-5.8.0@24641//bin/perl
	/home/src/perl/repoperls/installed-perls/maint-5.8/piFZwYU/perl-5.8.0@27040//bin/perl
	/home/src/perl/repoperls/installed-perls/perl/pREyceB/perl-5.8.0@27088/bin/perl
	/home/src/perl/repoperls/installed-perls/perl/piR9qHb/perl-5.8.0@27016/bin/perl
	/usr/local/perl-5.8.0@27016/bin/perl

	These don't (shell returns true):

	/usr/local/perl-5.8.7/bin/perl
	/usr/local/perl-5.8.8/bin/perl

	Stepping in the debugger through bleadperl@27088 and 5.8.8:

	27088 has Test::Harness 2.56 while my 5.8.8 has 2.57_03. Apparently a
	Test::Harness bug. REPORTED as #17490
	
2006-02-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-01-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Visit the p5p thread C<replacing "inuse" Win files (was Re: Help with
	a Cwd.pm build error)> for our own cpan.bat. Currently Windows users
	cannot 'reload cpan' when they started the shell from cpan.bat, only
	when they used 'perl -MCPAN -eshell' (David Golden)

	* Feature request: integrate more than one source into a common index.

	* dontload: make a dontload_list and deprecate dontload_hash. It seems
	OK to keep $META->{dontload_hash} but it would be nice if changes on
	$Config->{dontload_list} would always adjust the dontload_hash. DONE in
	rev. 581

	* document and provide a dialog for commandnumber_in_prompt or provide a
	sprintf based solution. Or just leave it as it is. Just like
	inhibit_startup_message.

	* Todo: Write a bunch of distros and upload them with the sole purpose
	of testing CPAN.pm. Also helps Test::Prereq and others.
	PITA::Test::Dummy::Perl5::Make and PITA::Test::Dummy::Perl5::Build? A
	start is done in t/shell.t STARTED around rev. 519

	* Bug: with bleadperl and CPAN 1.83_62 I first install Bundle::CPAN.
	Then I try to install Net::LDAP and answer all questions from
	Module::Install with the default. It then installs Convert::ASN1
	successfully and then says

*** Convert::ASN1 successfully installed.                                       
*** ExtUtils::AutoInstall installation finished.                                
Writing Makefile for Net::LDAP                                                  
make: getcwd: No such file or directory                                         
make[1]: Entering directory `'                                                  
make[1]: *** No targets specified and no makefile found.  Stop.                 
make[1]: Leaving directory `'                                                   
  /usr/bin/make  -- NOT OK                                                      

	If I now start a new CPAN session, I can install Net::LDAP without problems.

	If I uninstall Convert::ASN1 and start a new CPAN session I can get
	nearly the same result:

make[1]: Leaving directory `/home/k/.cpan/build/Convert-ASN1-0.19'
  sudo make install UNINST=1 -- OK
*** Convert::ASN1 successfully installed.
*** ExtUtils::AutoInstall installation finished.
Writing Makefile for Net::LDAP
CPAN: YAML loaded ok
make[1]: Entering directory `/home/k/.cpan/build/perl-ldap-0.33'
make[1]: *** No targets specified and no makefile found.  Stop.
make[1]: Leaving directory `/home/k/.cpan/build/perl-ldap-0.33'
  /usr/bin/make  -- NOT OK

	On the other hand, running same thing on a 5.8.7 with 1.83 succeeds, but
	it asks me if I want to run sudo (and I say no and again no).

	Now I tried bleadperl@27016 with its 1.8359: 'install YAML' then
	'install Net::LDAP' and got the same error.

	Now I try perl-5.8.8-RC1 with its 1.83: it succeeds but asks me again if
	I want to run sudo.

	5.8.8-RC1 with 1.8362: succeeds and asks me if I want to run sudo.

	blead@26447 with 1.8362: error.

	What is it about, the ExtUtils::AutoInstall line? ExtUtils::AutoInstall
	is NOT part of the core. Net::LDAP comes with version 0.59, Audrey has
	reached 0.63.

	I think it goes like so:

	have no perm -> ask sudo -> user says no -> success
	have perm       implicit yes             -> failure

	This is consistent with all of above.... After some more investigation
	reported as bug to Audrey and Graham

2006-01-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Revisit 17313: Module::Build people have promised to write a
	./Build.bat file instead of a ./Build file on Windows. Until this
	becomes true, hide mbuild_install_build_command from Windows users.

2006-01-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: broke perl again YAML? blead@26994 fails on test
	dump-perl-types.t of YAML-0.53. Wrote blame report about 26980--DONE

2006-01-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: Email::Field or which module was it that just produced
	more than 1000000 eval warnings? Cannot reproduce.

	* bug: if a META.yml specifies a prerequisite module that we do not
	know, the whole prereq_pm became undef. FIXED in rev. 480.

2006-01-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: illegal entries in the Config hash are never removed and a hash
	cannot be emptied. The latter is FIXED with rev. 475, the former with
	rev. 476.

	* Bug (Tyler MacDonald): OK, I've figured out what went wrong: 0.27_06
	isn't on www.cpan.org/pub/CPAN yet. However, *how* it went wrong is
	truly bizzare: LWP returned a "404 not found" error, yet somehow I still
	ended up with a .tar.gz and .tar file, and CPAN thinking it had actually
	downloaded something. This looks like a bug in CPAN.pm, both in the 1.7
	version that's distributed with 5.8.7, and the latest release, 1.83.

	In my environment, this comes from curl. After fixing the curl switches,
	the problem persists. This time is lynx to blame, but for lynx there is
	no commandline switch that propagates a 404 to a false. So we now read
	the file that lynx sends us and heuristically decide if it is an error
	message. FIXED in revision 477.

2006-01-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: META.yml may contain build_requires which for example File::BOM
	specifies. It doesn't matter that I believe that it is not a
	build_requires, it is really a requires because only tests fail, not the
	build process. But I must merge the two hashes. FIXED in rev. 471

	* Foreign bug: YAML with bleadperl fails a test which succeeds with
	maintperl. REPORTED

	* Bug: with 1.8358 from the core CPAN says after the start
	"lib/CPAN/Config.pm initialized" and goes into the init dialog. After ^C
	I find a lib/CPAN/Config.pm file.

	Ahhh, that's how 'o conf commit' had written my dontload_hash: producing
	a syntax error. FIXED in  rev. 466

2006-01-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* 5 new bugs from in RT: 17237 17238 17241 17242 17266

	17237 may be fixed with rev. 464 but not yet tested.

	rev. 465 continued to work on 17237 and I consider it fixed now.

	rev. 467 fixes 17238

	rev. 465 also is an answer to 17241 because this was most likely not a bug

	rev. 469 fixes 17266

	17242 is the request to work with Win32::OLE which I could only reply to
	with 'patches welcome'

	* Bug: setting "o conf dontload_hash ''" breaks the shell: C<Can't use
	string ("") as a HASH ref while "strict refs" in use at lib/CPAN.pm line
	833.> FIXED in rev 464.

2006-01-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* see if podlators 2.0.1 fixes the broken README and if so, switch back
	to ${PERL} in the Makefile.PL. FIXED in rev. 457

	* bug: while trying to install Bundle::CPAN, YAML was delayed "until
	after prerequisites" but later was not retried or maybe was retried but
	CPAN said, it was

Running make for I/IN/INGY/YAML-0.53.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/YAML-0.53
  Delayed until after prerequisites
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites

	So the installation of Bundle::CPAN was not really tried to finish.

	The dependency chain is as follows:

	  YAML depends on Class::Spiffy and Test::Base
    Test::Base depends on Spiffy

	Bug is that ->{later} is not double checked when encountered. Fixed in
	rev. 454.

2006-01-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign Bug: RDF::Simple has LWP::UserAgent as undeclared prereq???

	Running make against RDF::Simple pulls in a lot but it finally comes to
	an end. When I then run test, the whole load of modules starts testing
	and three fail their tests:

  ABW/AppConfig-1.56.tar.gz                    : make_test NO
  FLUFFY/Class-MethodMaker-2.08.tar.gz         : make_test NO
  ZOOLEIKA/RDF-Simple-0.22.tar.gz              : make_test NO

	paging back reveals: all the RDF::Simple tests fail due to missing
	LWP::UserAgent, RDF::Simple::Serialiser, and Class::MethodMaker. The
	latter two do not appear when I test against 5.8.8-tobe. REPORTED via
	RT.

	AppConfig fails due to "Can't modify non-lvalue subroutine call at
	t/file.t line 112, <DATA> line 69." This is a 5.9.3 issue, we succeed
	with 5.8.8-tobe (@26917) REPORTED via p5p.

	Class-MethodMaker tests fail complaining that they cannot find
	Class::MethodMaker. This is also a 5.9.3 issue. Fully automated binary
	search is impossible unless I find a smaller test case. 26492 ok, 26493
	not ok. Ha! It is a Makefile.PL vs Build.PL issue! On RT #16241 I have
	added this observation.

2006-01-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rt #17089 suggests that we have to care for M:B being installed when
	we find a distro that has only a Build.PL and no Makefile.PL

	AFAIR only CPAN::Metadata::RDF is a module that comes with Build.PL and
	without Makefile.PL, so it is the only one to test the bugreport. This
	takes *quite* a while because of prerequisites (Class::MethodMaker,
	Template::Toolkit, DateTime::TimeZone, DBD::SQLLite, LWP, etc.). And of
	course after all the prerequisites, we HAVE Module::Build, so must
	remove it again. FIXED in rev. 433

	* Foreign Bug? I must investigate DateTime::TimeZone separately. It
	wanted to install Module::Build on its own and then failed giving as a
	reason that Module::Build was not installed???

	It turns out the prereq_pm is undef for some reason. But prereq_pm is
	only built during the 'make' step and then not resetted during a 'force
	get'. The 'prereq_pm_detected' bit is set and I must leave/enter the
	shell to debug this. OK. I see a Makefile.PL that simply fails because
	Module::Build is not installed. At least it says what it wants, but we
	must be better prepared for such an attack. OK, I'll file a bugreport
	against both DateTime::TimeZone and Module::Build -- somebody has to
	confess that it is a prereq and write it into the META.yml. That's what
	I would say. DONE

2006-01-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when ~/.cpan/sources/authors/id/A/AN/ANDK/CPAN-1.83_54.tar.gz is
	not a tar file (because I mistyped a URL and got something else), then
	even "force get ANDK/CPAN-1.83_54.tar.gz" does not overwrite the bogus
	file. The stupid program just keeps complaining that the file is not a
	tarfile and I must remove it manually.

	Ahh, this bug needs not be fixed because it only happens when you have
	no Digest::SHA available. REJECT

	* Bug: $CPAN_config_loaded should be replaced with something like
	$INC{"CPAN/Config.pm"} || $INC{"CPAN/MyConfig.pm"} so that loading one
	of the two before starting the shell will do. Then revert patch 411.
	FIXED in rev. 418

	* Todo: see the newest cpan by brian. DONE (BDFOY/cpan-1.51.tar.gz)

2006-01-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: We cannot determine the prereequisites of File::Find::Rule
	because we have no YAML installed and Richard uses Module::Build, so we
	have no Makefile to parse. There is some MB interface to get them. fixed
	in rev. 396

	* Bug: "install Bundle::CPAN Expect Test::Pod" currently failes
	correctly when we reach YAML because we cannot verify the signature. But
	we must not die, we must only set the correct status so the rest of the
	gang can be installed. Fixed in rev. 384

2006-01-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* what happens to "failed" when we reload the index? TESTED OK

	* force: I'd expect 'force ls' to always fetch fresh CHECKSUMS
	files. Currently it doesn't. FIXED in rev. 401

	* optimize "ls dowens": currently fetches D/CHECKSUMS and D/DO/CHECKSUMS
	even if we already have D/DO/DOWENS/CHECKSUMS. Is it worth fixing? NO

	* get rid of the summary currently provided by install bundle, its
	superceded by failed(). REJECT, maybe it's useful

	* Todo: document "failed" (and "status"?) DONE for failed, REJECT for status

	* today's rev. 374 of CPAN.pm should be partially reverted: while
	failed() looks good most of the time, it looks ugly that 'force install
	version' installs version and still failed reports:

Writing /usr/local/perl-5.8.0@26774/lib/site_perl/5.9.3/i686-linux-64int/auto/version/vxs/.packlist
  ./Build install --uninst 1 -- OK
Failed installations in this command:
  JPEACOCK/version-0.53.tar.gz                 : make_test NO

cpan> failed               
Failed installations in this session:
  BDFOY/Test-Prereq-1.029.tar.gz               : make_test NO
  JPEACOCK/version-0.53.tar.gz                 : make_test NO

	Correct behaviour should be that the 'make_test NO' bit be nuked. FIXED
	in rev. 387

	Above that, the "prompt" change was only interesting during debugging.
	Nobody wants to see the internal number of commands in his prompt. FIXED
	in rev. 388

	* Bug: YAML fails to unpack because of bad signature. Retrying leads to
	prereq Test::Base failing due to bad signature. Retrying leads to
	running make test on YAML. dump reveals that somehow SIG_STATUS was set
	to YES. Ahh, that's the signature on the CHECKSUMS file. Need a new
	attribute for broken signatures. FIXED in rev. 374

2006-01-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* document CPAN_SHELL_LEVEL DONE

	* find out why Expect is so noisy and when this did start DONE

	* Slaven suggests: How to discover that we are in the subshell?
	Environment? Prompt? Level? PS1 as an environment variable? How does
	Debian's apt-get solve that? HALF-DONE in rev. 360: We now have the
	envariable CPAN_SHELL_LEVEL but I'd still like to make a change to the
	prompt. Update: Debian does not mangle the prompt, they just say 'Type
	exit when you're done':

	*** dvorak (Y/I/N/O/D/Z) [default=N] ? z
Type `exit' when you're done.
Abstaining from writing .zhistory, is younger than stats.dbhash at /root/bin/commandhistory.pl line 513.
Zsh version 4.3.0-dev-2
Linux dev05 2.6.12.6-xen0 #2 Tue Jan 10 17:34:37 CET 2006 i686 GNU/Linux

	So this Todo can also be CLOSED.

	* Rename Releasenotes to Changes and make the ChangeLog in the
	traditional format, there is some XSLT stylesheet somewhere that does
	this. Ah here: http://ch.tudelft.nl/~arthur/svn2cl/svn2cl-0.5.tar.gz
	DONE up to rev. 352

2006-01-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Give every command a number and store that number in the object,
	something like incommandcolor but without removing it at the end of the
	command. With such a number we can make failed(commandnumber) filter on
	that commandnumber and have instant per-command-failed. DONE in rev 374

2005-12-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: I install Archive::Extract and it has the prerequisite
	Module::Load::Conditional declared but nobody installs it.
	FIXED in rev. 329

2005-12-30  Andreas J Koenig  <akoenig@cellular.de>

	* FirstTime needs a structure over each question or questiongroup so
	that we can ask single questions. Structure was brought by Jim Comie
	around rev. 355

	* Bug: "reload cpan" does not work if the old and the new CPAN.pm
	have a different path. I installed a new CPAN.pm from CPAN and it
	did remove the old /usr/share/perl/5.8/CPAN.pm but installed the
	new one as /usr/local/share/perl/5.8.7/CPAN.pm. The reload then
	always just said "0 subroutines redefined". FIXED in rev. 321

	* rev 315 fixed a path/permission problem with the use of basename() and
	I could see that the error message gets much better than before but we
	need a test case that shows that this strategy can really work in some
	cases. Maybe we need to store the tar file somewhere else to keep the
	tmp/ directory tidy. Also we must see what happens when we cannot remove
	the tmp/ directory. The list of broken distros in
	eg/find-module-install-sudo-bugs.pl will help. DONE

	* add eg/ to the MANIFEST? Not yet, the script is too much focused on a
	problem that is not of interest to others. REJECT

	* Bug: checksum mismatch on a file is being reported even when the
	file has 0 bytes. 0 bytes should clearly constitute the right/the
	duty to overwrite. FIXED in rev. 320

2005-12-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug suspected in Module::Install: it seems to run CPAN.pm in a
	subshell with sudo and so we get directories under build/ that we do not
	own. No release before this bug is traced down! Bugreport sent to Audrey
	a few minutes ago (already Friday, 0:30 Berlin time). Bug confirmed and
	has already been fixed in 0.37 and old distros must be redistroed. DONE

	* branching and merging: make current HEAD a branch "1.80_56plus" and
	roll HEAD back to contain only the zero-risk stuff (for maybe later
	releasing that as 1.81?) DONE

2005-12-21  Andreas J Koenig  <akoenig@cellular.de>

	* complete 'o conf' does not show commit. FIXED in rev 291

	* Bug: Module::Install writes into META.yml "perl: 5.004" and we take it
	as a Module requirement. Whose bug? WORKAROUND in rev 290

	* Can't locate object method "prettyprint" via package "CPAN::Config" at
	lib/CPAN.pm line 1246, <STDIN> line 2. FIXED in rev 288

2005-12-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Documentation of sudo, ls *, Module::Build, bzip2, YAML; DONE

	* Sudo for Build? Ask mailinglist if we need a
	build_install_build_command or what we need there. DONE

2005-12-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* add to the Bundle: YAML, Text::Glob, Module::Build, Digest::SHA FIXED in rev 280

	* 'make release' is broken. Apparently I have to follow some sequence to
	make release:-( MAYBE FIXED

	* Bug: The following prints "incommandcolor" which should never happen:

perl -Ilib -MCPAN -e 'CPAN::Shell->$_("MARKSTOS/Test-XML-Valid-0.04.tar.gz") for qw(clean d);'
CPAN: LWP::UserAgent loaded ok
CPAN: URI::URL loaded ok
Going to read /home/ftp/pub/CPAN/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
Going to read /home/ftp/pub/CPAN/modules/02packages.details.txt.gz
  Database was generated on Sun, 18 Dec 2005 00:23:31 GMT
Going to read /home/ftp/pub/CPAN/modules/03modlist.data.gz
CPAN: Storable loaded ok
Going to write /home/k/.cpan/Metadata
Running make clean
  Has no own directory
Distribution id = M/MA/MARKSTOS/Test-XML-Valid-0.04.tar.gz
    CPAN_USERID  MARKSTOS (Mark Stosberg <mark@summersault.com>)
    CALLED_FOR   M/MA/MARKSTOS/Test-XML-Valid-0.04.tar.gz
    CONTAINSMODS Test::XML::Valid
    UPLOAD_DATE  2004-06-01
    incommandcolor 0

	FIXED in rev 279

2005-12-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* make selectable in the config if M:B should be chosen over
	Makefile.PL. prefer_installer DONE in rev 271

	* Bug: tolerance on colon only works with m command but not with install command:

cpan> install Class:Container
CPAN: Storable loaded ok
Going to read /root/.cpan/Metadata
  Database was generated on Sat, 17 Dec 2005 10:06:33 GMT
Warning: Cannot install Class:Container, don't know what it is.
Try the command

    i /Class:Container/

to find objects with matching identifiers.

cpan> m Class:Container      
Module id = Class::Container
    CPAN_USERID  KWILLIAMS (Ken Williams <ken@mathforum.org>)
    CPAN_VERSION 0.12
    CPAN_FILE    K/KW/KWILLIAMS/Class-Container-0.12.tar.gz
    MANPAGE      Class::Container - Glues object frameworks together transparently
    INST_FILE    /usr/local/share/perl/5.8.7/Class/Container.pm
    INST_VERSION 0.12

	FIXED in rev 269

	* switch back and forth between preferring Build.PL or Makefile.PL; find
	12 modules that are good for testing Module::Build:

	SVN::Notify::Mirror  failed a test with "could not exec svnnotify" but it
                       worked on the commandline

	SVN::Notify::Config  is the whole family of SVN::Notify a mess, dependency-wise?

	SVN::Notify          must be installed first???

	Text::Lorem HTTP::Proxy Workflow Calendar::Simple DateTime::HiRes
	CGI::Wiki::Kwiki Class::Container HTML::TagCloud
	Data::FormValidator::Util::HTML

	DONE for rev 269

2005-12-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: what? we still do not support Build.PL? Didn't anybody send
	me a patch? Try 'install CPAN::Metadata::RDF' and see how this can
	be fixed as quickly as possible.

	Try:        look CPAN::Metadata::RDF
	then there: perl Build.PL;./Build;./Build install

	This does nothing for the prerequisites. We could lookup META.yml either
	then or beforehand. FIXED although only minimal tested in rev 269

	* YAML for dependency checking in rev 268

	* bz2 support: testobject is ARTURAZ/Net-Vypress-Chat-0.72.1.tar.bz2
	DONE in rev 264

	* Todo: sha256 DONE in rev 263

	* Todo: 4th colmn in the 'r' command has not the canonical name
	but the unneeded D/DC/ stuff. DONE in rev 262.

	* Globbing on the ls command: completion? REJECTED

2005-12-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Feature request: if I type 'm CGI:Session' (note the missing second
	colon) I get

	No objects of type Module found for argument CGI:Session

	I believe, CPAN could supply the missing colon in this case. DONE

2005-11-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when the Metadata file has been read with the old version and
	CPAN reads the new index it does not update the version. Witness
	Crypt::Khazad. Once the Metadata are removed completely and built up
	correctly, everything is OK.

	Can be tested by running

	!print $CPAN::META->{readonly}{"CPAN::Module"}{"Crypt::Khazad"}{"CPAN_VERSION"} = "1.0"
	reload index

	This may have nothing to do with multidot versions, just some
	pessimization in the code dealing with replacement of META when
	re-reading index files. FIXED

2005-11-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* From: David Golden <david@hyperbolic.net>:

	> Also, "lack of distname support" is overblowing the situation.
	> Distnames are supported perfectly fine as long as you put it in the
	> proper syntax with author's ID and version.
	
	I think the problem Jim encountered is that "proper syntax" is part of
	the arcana of CPAN.  It's not obvious from the help:
	
	>  a,b,d,m  WORD or /REGEXP/  about authors, bundles, distributions, modules
	>  i        WORD or /REGEXP/  about anything of above
	>  r        NONE              reinstall recommendations
	>  ls       AUTHOR            about files in the author's directory
	
	Something that clarifies that AUTHOR/DIST-VERSION is a valid format
	would help.  Or rather, some specific example of what that WORD can be:
	
	  where WORD is either a module, bundle or author name or a
	  distribution name of the form AUTHOR/DISTRIBUTION-VERSION
	
	It's vaguely alluded to in the CPAN perldoc, but only in the section
	describing the four CPAN::* classes.
	
	A doc patch would be a quick fix for this.

2005-11-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* globbing on the ls command: only ls 'GBARR/Scalar*', or even 'ls
	*/makepatch'? 2005-12-12: DONE 

	* script to copy relevant files to the perl tree. DONE

2005-11-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* is version in script/cpan OK? It was 1.3 in perl @25981! Same
	for Nox.pm FIXED

	* PAUSE key 2005? DONE

2005-11-03  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Need Releasenotes, the ChangeLog is a big mess with the numerous
	checkins that all were just testing the release cycle itself and
	not generating anything useful for the user. DONE

2005-11-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: why did the release only contain a ChangeLog up to release
	206 when we were at 212? Ah, I see, the disttest target does not
	make a to-be-released file, must be done by make dist. So the
	whole release was @206. No harm done because between 206 and 212 I
	only worked on the release target. I think I need a disttest of my
	own that takes the dist.tar.gz already built and tests it, not the
	one that builds a dist from the air again into the air and tests
	that. I want a real test of that file that is going to be
	released. Then I can live with 'make release' running both dist
	and disttest. I think. DONE
	
	* Bug: as a non-root user and first-time caller (no ~/.cpan/
	directory) I said "not ready for interactive configuration" and
	then said 'o conf init'. I got no questions asked but into a fast
	endless loop like so:

(1) Africa
(2) Asia
(3) Central America
(4) Europe
(5) North America
(6) Oceania
(7) South America
Select your continent (or several nearby continents) []

Sorry! since you don't have any existing picks, you must make a
geographic selection.

(1) Africa
(2) Asia
(3) Central America
(4) Europe
(5) North America
(6) Oceania
(7) South America
Select your continent (or several nearby continents) []

Sorry! since you don't have any existing picks, you must make a
geographic selection.


	until I hot ^C. *Very* Clever tricks with prompt?

	Reproducable as described. Leaving the shell and entering it again
	make it not reproducable. I must 'rm -rf ~/.cpan
	lib/CPAN/Config.pm' to reproduce. FIXED in rev 214

2005-10-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2005-10-21  Andreas J Koenig  <akoenig@cellular.de>

	* cpan> m Apache::AuthAny 
	Can't call method "upload_date" on an undefined value at /usr/perl-5.8.4/lib/5.8.4/CPAN.pm line 5761.

	FIXED in rev 186.

	* Slaven suggests a variable "permanently_connected" that helps to
	decide if a connection to the internet is available. Do ask the
	community if people care about such stuff. Slaven expects, some
	will care that the the 'm' and 'd' commands now make a connection
	to the internet. FIXED by introducing do_ls_on_m_and_d.

2005-10-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* ChangeLog needs to be written by svn during make dist, and the
	dependencies must care for a rerun of 'perl Makefile.PL' when
	CPAN.pm gets edited. This would be 'svn log -r HEAD:131' for the
	ChangeLog, I think. FIXED

2005-10-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: installing SWETH/IPv4.pm did not seem to work anymore.
	FIXED in revision 172.

	* Bug: there is a directory ZTANG/Text-PORE-102/ on CPAN with a
	single file README in it. ls chokes on ZTANG because of this. Is
	it a bug that the directory exists or is it a bug that it has no
	CHECKSUMS file? FIXED by simply removing the README file from
	CPAN.

2005-10-12  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: the nonsense command 'force ls andk' should just do a plain
	'ls andk'. Instead it complains: C<Warning: Cannot ls andk, don't
	know what it is.> FIXED in rev. 180

2005-10-11  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: "o conf foo bar" should complain about invalid key "foo".
	It does instead set "foo" to "bar" and it happened to me to set
	"debug" to "all" and then I wondered why debugging was not turned
	on. Would it have complained, I would have found the correct
	command ("o debug all") much quicker. FIXED in rev. 178.

	* Same effect can be illustrated by changing to the source's root
	directory, running 'perl -Ilib -MCPAN -e shell', 'install
	Tie::CPHash' (or something else???) and then 'reload cpan'....
	Ahhh, this latter example it is a matter of somebody having turned
	off $^W globally:-)...FIXED

2003-08-13  Andreas J Koenig

	cpan script should accept arguments as suggested by Matt Sergeant:
	   cpan install My::Foo
	
	Cache manager should read youngest directories first and start
	deleting without measuring as soon as the cache limit is reached.
	
	Rename 'o conf' to 'set' and 'o debug' to 'set debug'.
	
	Profiling?
	
	Provide something, so that the next "o conf commit" will not overwrite
	the config file. maybe "myconfig_readonly"?
	
	I have a patch by Jochen Wiedmann that implements a per-distribution
	permanent configuration directory. The new containsmods() method in
	1.52 should help to fit the patch with the rest of CPAN.pm.
	
	Option to skip testing (Ask Bjoern Hansen).
	
	Default Argument for make,test,look,etc. could be the last argument???
	
	Make a preferred download method configurable (allow further download
	methods via plugin?)
	
	Allow different site preferences for index files and other files
	
	Replace make with Make
	
	Maintain the cache at runtime. Currently we only check it at startup.
	
	Distribute compressed CHECKSUM files
	
	Security layer
	
	make plugins configurable, adjust @ISA
	
	Make configurable that multiple additional index files can be
	integrated (for Intra-CPANs). I believe CPAN::Site did it right
	anyway, so we might skip this.
	
	Make the 'make' command itself configurable as suggested by Rujith de
	Silva <rujith.desilva@ps.net>, who wants to run 'sudo make install'
	instead of 'make install'. (Fixing this is delayed, because it
	interacts with Make.pm)

	* What does E1, E2, E3, E4, E5, M1, M2, M3, M4, M5, H1, H2, H3, H4, H5
	mean?
	
	E=Easy
	M=Middle
	H=Hard
	1 = unimportant
	5 = important
	
	

	Local Variables:
	mode: change-log
	change-log-default-name: "Todo"
	tab-width: 2
	left-margin: 2
	End:
